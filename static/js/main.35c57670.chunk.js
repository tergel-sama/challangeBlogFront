(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{280:function(e,t,a){e.exports=a(699)},285:function(e,t,a){},414:function(e,t,a){e.exports=a.p+"static/media/logo.25efde8f.png"},420:function(e,t,a){e.exports=a.p+"static/media/yuno.109eb569.jpg"},462:function(e,t){},699:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a.n(n),c=a(69),o=a(0),l=a.n(o),i=a(16),u=a.n(i),s=(a(285),a(8)),m=a(247),p=a(704),d=a(91),g=a(728),f=a(729),b=a(730),E=a(722),h=a(721),v=a(723),j=a(724),k=a(725),y=a(726),O=a(727),x=a(27),w=a(712),C=a(711),T=a(715),I=a(44),S=a(719),A=a(720),z=a(703),L=a(33),D=l.a.createContext({isDark:!0,dispatch:function(){}}),P=l.a.createContext({contentLayout:200,setContentLayout:function(){}}),_=l.a.createContext({user:{},setUser:function(){}});function B(e){var t=e.visible,a=e.setVisible,n=Object(o.useContext)(_),r=(n.user,n.setUser,Object(z.a)(["token"])),c=Object(s.a)(r,3),i=(c[0],c[1]),u=(c[2],Object(L.b)((function(e,t){return{url:"/user/login",method:"POST",data:{email:e,password:t}}}))),p=Object(s.a)(u,2),d=p[0],g=p[1];Object(o.useEffect)((function(){if(console.log("userdata DESU",d),d.error&&m.a.error({content:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u044d\u0441\u0432\u044d\u043b \u0438\u043c\u0435\u0439\u043b \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!",key:"login",style:{marginTop:"15vh"}}),d.data){m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u043d\u044d\u0432\u0442\u044d\u0440\u043b\u044d\u044d!",key:"login",style:{marginTop:"15vh"}});var e=new Date;e.setTime(e.getTime()+36e5),i("token",d.data.token,{path:"/",expires:e}),window.location.href="/"}}),[d]);return l.a.createElement(w.a,{title:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445",onCancel:function(){return a(!1)},visible:t,footer:!1},l.a.createElement(C.a,{name:"normal_login",initialValues:{remember:!0},onFinish:function(e){m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430.",key:"login",style:{marginTop:"15vh"}}),g(e.email,e.password)}},l.a.createElement(C.a.Item,{name:"email",rules:[{required:!0,message:"\u0418\u043c\u0435\u0439\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439!"}]},l.a.createElement(T.a,{prefix:l.a.createElement(S.a,null),placeholder:"\u0418\u043c\u0435\u0439\u043b"})),l.a.createElement(C.a.Item,{name:"password",rules:[{required:!0,message:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439!"}]},l.a.createElement(T.a,{prefix:l.a.createElement(A.a,null),type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"})),l.a.createElement(C.a.Item,null,l.a.createElement(I.a,{type:"primary",htmlType:"submit"},"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"))))}function V(e){var t=e.visible,a=e.setVisible,n=Object(z.a)(["token"]),r=Object(s.a)(n,3),c=(r[0],r[1]),i=(r[2],Object(o.useState)({})),u=Object(s.a)(i,2),p=u[0],d=u[1],g=Object(L.b)((function(e,t){return{url:"/user/login",method:"POST",data:{email:e,password:t}}})),f=Object(s.a)(g,2),b=f[0],E=f[1],v=Object(L.b)((function(e,t,a){return{url:"/user/signup",method:"POST",data:{username:e,email:t,password:a}}})),j=Object(s.a)(v,2),k=j[0],y=j[1];Object(o.useEffect)((function(){k.error&&m.a.error("\u0418\u043c\u0435\u0439\u043b \u044d\u0441\u0432\u044d\u0440 \u043d\u044d\u0440 \u0434\u0430\u0432\u0445\u0430\u0440\u0434\u0441\u0430\u043d \u0431\u0430\u0439\u043d\u0430"),k.data&&E(p.email,p.password)}),[k]),Object(o.useEffect)((function(){if(console.log("userdata DESU",b),b.error&&m.a.error({content:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u044d\u0441\u0432\u044d\u043b \u0438\u043c\u0435\u0439\u043b \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!",key:"login",style:{marginTop:"15vh"}}),b.data){m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u043d\u044d\u0432\u0442\u044d\u0440\u043b\u044d\u044d!",key:"login",style:{marginTop:"15vh"}});var e=new Date;e.setTime(e.getTime()+36e5),c("token",b.data.token,{path:"/",expires:e}),window.location.href="/"}}),[b]);return l.a.createElement(w.a,{title:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445",onCancel:function(){return a(!1)},visible:t,footer:!1},l.a.createElement(C.a,{name:"normal_login",initialValues:{remember:!0},onFinish:function(e){m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430.",key:"login",style:{marginTop:"15vh"}}),y(e.username,e.email,e.password),d(e)}},l.a.createElement(C.a.Item,{name:"username",rules:[{required:!0,message:"\u041d\u044d\u0440\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439!"}]},l.a.createElement(T.a,{prefix:l.a.createElement(h.a,null),placeholder:"\u041d\u044d\u0440"})),l.a.createElement(C.a.Item,{name:"email",rules:[{required:!0,message:"\u0418\u043c\u0435\u0439\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439!"}]},l.a.createElement(T.a,{prefix:l.a.createElement(S.a,null),placeholder:"\u0418\u043c\u0435\u0439\u043b"})),l.a.createElement(C.a.Item,{name:"password",rules:[{required:!0,message:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439!"}]},l.a.createElement(T.a,{prefix:l.a.createElement(A.a,null),type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"})),l.a.createElement(C.a.Item,null,l.a.createElement(I.a,{type:"primary",htmlType:"submit"},"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"))))}var R=p.a.Header,$=d.a.SubMenu;function H(e){var t=e.paddingRight,a=Object(z.a)(["token"]),n=Object(s.a)(a,3),r=n[0],c=(n[1],n[2]),i=Object(o.useState)(!1),u=Object(s.a)(i,2),m=u[0],p=u[1],g=Object(o.useState)(!1),f=Object(s.a)(g,2),b=f[0],w=f[1],C=Object(o.useContext)(D),T=(C.isDark,C.setIsDark,Object(o.useContext)(_)),I=T.user,S=T.setUser,A=Object(L.b)((function(e){return{url:"/user/".concat(e),method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.token}}})),P=Object(s.a)(A,2),H=(P[0],P[1]);return Object(o.useEffect)((function(){console.log("changed",I.userId),I.userId&&H(I.userId)}),[I.userId]),l.a.createElement(R,{style:{position:"fixed",zIndex:1,width:"100%",paddingRight:t+50}},l.a.createElement(B,{visible:m,setVisible:p}),l.a.createElement(V,{visible:b,setVisible:w}),l.a.createElement(d.a,{theme:"dark",mode:"horizontal"},l.a.createElement($,{style:{float:0!==t?"right":"unset",display:0!==t?"":"none"},key:"2",icon:l.a.createElement(E.a,{style:{fontSize:16}})},I.userId?l.a.createElement(d.a.Item,{icon:l.a.createElement(h.a,null),key:11},l.a.createElement(x.Link,{href:"/profile/".concat(I.userId)},"\u0425\u0443\u0432\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b")," "):null,1===I.userType?l.a.createElement(d.a.Item,{icon:l.a.createElement(v.a,null),key:"14"},l.a.createElement(x.Link,{href:"/posts/".concat(I.userId)},"\u04e8\u04e9\u0440\u0438\u0439\u043d \u043d\u0438\u0439\u0442\u043b\u044d\u043b\u04af\u04af\u0434")):null,3===I.userType?l.a.createElement(d.a.Item,{icon:l.a.createElement(v.a,null),key:"15"},l.a.createElement(x.Link,{href:"/all-author-post-list"},"\u0411\u04af\u0445 \u043d\u0438\u0439\u0442\u043b\u044d\u0433\u0447\u04af\u04af\u0434")):null,3===I.userType?l.a.createElement(d.a.Item,{icon:l.a.createElement(v.a,null),key:"5"},l.a.createElement(x.Link,{href:"/waiting-post-list"},"\u0425\u04af\u043b\u044d\u044d\u0433\u0434\u044d\u0436 \u0431\u0443\u0439 \u043d\u0438\u0439\u0442\u043b\u044d\u043b\u04af\u04af\u0434")):null,1===I.userType?l.a.createElement(d.a.Item,{icon:l.a.createElement(v.a,null),key:"13"},l.a.createElement(x.Link,{href:"/create-post"},"\u041d\u0438\u0439\u0442\u043b\u044d\u043b \u043e\u0440\u0443\u0443\u043b\u0430\u0445")):null,1===I.userType?l.a.createElement(d.a.Item,{icon:l.a.createElement(j.a,null),key:"6"},l.a.createElement(x.Link,{href:"/tags"},"\u0425\u043e\u043b\u0431\u043e\u043e\u0441 \u04af\u04af\u0441\u0433\u044d\u0445")):null,I.userId?l.a.createElement(d.a.Item,{icon:l.a.createElement(k.a,null),onClick:function(){return S({}),c("token"),void(window.location.href="/")},key:"10"},"\u0413\u0430\u0440\u0430\u0445"):l.a.createElement(d.a.Item,{icon:l.a.createElement(y.a,null),onClick:function(){return p(!0)},key:"9"},"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"),I.userId?null:l.a.createElement(d.a.Item,{icon:l.a.createElement(O.a,null),onClick:function(){return w(!0)},key:"12"},"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"))))}var U=a(253),M=p.a.Content,W=p.a.Footer,q=p.a.Sider,F=d.a.SubMenu;function N(e){var t=e.children,n=Object(x.useLoadingRoute)(),r=Object(L.b)((function(){return{url:"/tag",method:"get"}})),c=Object(s.a)(r,2),i=c[0],u=c[1],m=Object(o.useState)(200),E=Object(s.a)(m,2),h=E[0],v=E[1],j=Object(o.useState)(),k=Object(s.a)(j,2),y=k[0],O=k[1],w=Object(o.useState)([]),C=Object(s.a)(w,2),T=C[0],I=C[1];return Object(o.useEffect)((function(){u()}),[]),Object(o.useEffect)((function(){I(i.data)}),[i.data]),console.log("status",!!n,y),l.a.createElement(p.a,{style:{minHeight:"100vh"}},l.a.createElement(U.a,{height:3,color:"#00adb5",onRef:function(e){return O(e)}}),n&&(null===y||void 0===y?void 0:y.state.progress)<=0?null===y||void 0===y?void 0:y.continuousStart():(null===y||void 0===y?void 0:y.state.progress)>0&&(null===y||void 0===y?void 0:y.complete()),l.a.createElement(q,{breakpoint:"lg",collapsedWidth:"0",style:{zIndex:"1",height:"100vh",position:"fixed",left:0},onCollapse:function(e,t){v(e?0:200),console.log(e,t)}},l.a.createElement("div",{style:{height:"36px",margin:"16px",display:"flex",justifyContent:"center"}},l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},alt:"logo",src:a(414)})),l.a.createElement(d.a,{theme:"dark",mode:"inline"},l.a.createElement(d.a.Item,{key:"1",icon:l.a.createElement(g.a,null)},l.a.createElement(x.Link,{href:"/"},"\u041d\u0438\u0439\u0442\u043b\u044d\u043b\u04af\u04af\u0434")),l.a.createElement(F,{key:"sub1",icon:l.a.createElement(f.a,null),title:"\u0425\u043e\u043b\u0431\u043e\u043e\u0441\u0443\u0443\u0434"},null===T||void 0===T?void 0:T.map((function(e,t){return l.a.createElement(d.a.Item,{key:"tags"+t},l.a.createElement(x.Link,{href:"/post-tag/".concat(e.name)},e.name))}))),l.a.createElement(d.a.Item,{icon:l.a.createElement(b.a,null),key:"11"},l.a.createElement(x.Link,{href:"/all-content-creators"},"\u0410\u0434\u043c\u0438\u043d\u0443\u0443\u0434")))),l.a.createElement(p.a,{style:{marginLeft:h}},l.a.createElement(H,{paddingRight:h}),l.a.createElement(M,{style:h>0?{margin:"0 50px",marginTop:70}:{margin:"0px",marginTop:"70px"}},l.a.createElement("div",{style:{padding:24,minHeight:360,backgroundColor:"rgba(255, 255, 255, 0.08)"}},l.a.createElement(P.Provider,{value:{contentLayout:h,setContentLayout:v}},t))),l.a.createElement(W,{style:{textAlign:"center"}},"Sakamoto \xa92021 Created by Tergel-sama")))}var J=a(254),G=a(39),K=a(106),Q=a(63),X=a(710),Y=a(705),Z=a(716),ee=X.a.Meta;function te(e){var t,a,n=e.imgUrl,r=e.title,c=e.author,i=e.content,u=e.id,m=e.tags,p=Object(L.b)((function(){return{url:"/user/post-creator/".concat(c),method:"get"}})),d=Object(s.a)(p,2),g=d[0],f=d[1];Object(o.useEffect)((function(){return f()}),[]);var b=Object(x.useNavigation)();return l.a.createElement(X.a,{hoverable:!0,onClick:function(){b.navigate("/post/".concat(u))},cover:l.a.createElement("div",{style:{height:200,display:"flex",justifyContent:"center"}},l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},alt:"example",src:n})),actions:[]},l.a.createElement(ee,{key:"1",avatar:l.a.createElement(Y.a,{src:(null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.img)?null===g||void 0===g||null===(a=g.data)||void 0===a?void 0:a.img:"https://i.ibb.co/8KkkJzb/mrrobot.jpg"}),title:r,description:i}),l.a.createElement("br",null),l.a.createElement(ee,{key:"2",title:m.map((function(e,t){return l.a.createElement(Z.a,{key:t,color:"orange"},e)}))}))}var ae=a(77);function ne(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{title:"\u042e\u0443\u043d\u043e-\u0447\u0430\u043d",visible:n,onCancel:function(){r(!1)},footer:[l.a.createElement(I.a,{key:"back",onClick:function(){r(!1)}},"\u0417\u0430")]},l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:a(420)}),l.a.createElement("p",null,"\u0425\u04e9\u04e9\u0435!"),l.a.createElement("p",null,"\u0411\u0430\u0439\u0445\u0433\u04af\u0439 \u0433\u044d\u044d\u0434 \u0431\u0430\u0439\u0445\u0430\u0434 \u0434\u0430\u0445\u0438\u0436 \u0445\u0430\u0439\u0436 \u044f\u0430\u0445 \u0433\u044d\u044d\u0434 \u0431\u0430\u0439\u0433\u0430\u0430\u043d!"),l.a.createElement("p",null,"\u0427\u0438 \u044f\u0433 save \u0434\u0430\u0440\u0441\u043d\u044b\u0445\u0430\u0430 \u0434\u0430\u0440\u0430\u0430 \u0434\u0430\u0445\u0438\u0436 2-3 \u0434\u0430\u0440\u0434\u0430\u0433 \u0442\u04e9\u0440\u043b\u0438\u0439\u043d \u0445\u04af\u043d \u0431\u0430\u0439\u0445\u0430\u0430.")),l.a.createElement(ae.a,{description:"\u04e8\u04e9! \u043e\u043b\u0434\u0441\u043e\u043d\u0433\u04af\u0439 \u044d\u044d."},l.a.createElement(I.a,{onClick:function(){return r(!0)}},"\u0414\u0430\u0445\u0438\u043d \u0445\u0430\u0439\u0445")))}function re(e){var t=e.posts,a=Object(x.useCurrentRoute)(),n=t?t.data:a.data.data;return console.log("posts data",n),l.a.createElement(K.a,{gutter:[24,24]},n.length>0?n.map((function(e,t){var a,n;return l.a.createElement(Q.a,{key:t,md:{span:8}},l.a.createElement(te,{id:e._id,imgUrl:e.img,title:e.title,author:e.author,tags:e.tags,content:(null===(a=e.content)||void 0===a||null===(n=a.content0.split("$content:")[1])||void 0===n?void 0:n.substring(0,30).trim())+"...",key:t}))})):l.a.createElement(Q.a,{style:{margin:"auto"},md:{span:24}},l.a.createElement(ne,null)))}var ce=a(717);function oe(e){var t=e.tags,a=Object(o.useContext)(_),n=a.user,r=(a.setUser,Object(z.a)(["token"])),c=Object(s.a)(r,3),i=c[0],u=(c[1],c[2],Object(x.useNavigation)()),p=Object(o.useState)(""),d=Object(s.a)(p,2),g=d[0],f=d[1],b=Object(L.b)((function(e){return{url:"/tag",method:"post",data:{name:e},headers:1===n.userType?{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i.token}:{}}})),E=Object(s.a)(b,2),h=E[0],v=E[1],j=Object(L.b)((function(e){return{url:"/tag/".concat(e),method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i.token}}})),k=Object(s.a)(j,2),y=k[0],O=k[1];return Object(o.useEffect)((function(){y.error&&m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!",key:"tag",duration:2}),y&&y.data&&("success"===y.data.status?m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u0433\u0430\u043b\u0430\u0430!",key:"Deltag",duration:2}).then((function(e){return u.navigate(u.getCurrentValue())})):m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!",key:"tag",duration:2}))}),[y]),Object(o.useEffect)((function(){h&&h.data&&("success"===h.data.status?m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430!",key:"tag",duration:2}).then((function(e){return u.navigate(u.getCurrentValue())})):m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!",key:"tag",duration:2}))}),[h]),l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"\u0425\u043e\u043b\u0431\u043e\u043e\u0441 \u0434\u044d\u044d\u0440 \u0434\u0430\u0440\u0436 \u0443\u0441\u0442\u0433\u0430\u043d\u0430."),l.a.createElement("p",null,"\u0425\u043e\u043b\u0431\u043e\u043e\u0441\u044b\u043d \u043d\u044d\u0440\u043d\u0438\u0439 \u044d\u0445\u043d\u0438\u0439 \u04af\u0441\u0433\u0438\u0439\u0433 \u0442\u043e\u043c\u043e\u043e\u0440 \u0431\u0438\u0447\u0432\u044d\u043b \u0437\u04af\u0433\u044d\u044d\u0440 \u0431\u04e9\u043b\u0433\u04e9\u04e9."),t.data.map((function(e,t){return l.a.createElement(ce.a,{key:t,title:"\u042d\u043d\u044d ".concat(e.name," \u0445\u043e\u043b\u0431\u043e\u043e\u0441\u0438\u0439\u0433 \u0443\u0441\u0442\u0433\u0430\u0445\u0434\u0430\u0430 \u0438\u0442\u0433\u044d\u043b\u0442\u044d\u0439 \u0431\u0430\u0439\u043d\u0430 \u0443\u0443?"),onConfirm:function(){m.a.loading({content:"\u0423\u0441\u0442\u0433\u0430\u0436 \u0431\u0430\u0439\u043d\u0430...",key:"Deltag"}),O(e._id)},onCancel:function(){},okText:"\u0422\u0438\u0439\u043c",cancelText:"\u04ae\u0433\u04af\u0439"},l.a.createElement(Z.a,{color:"blue"},e.name))})),l.a.createElement(T.a,{size:"small",value:g,onChange:function(e){return f(e.target.value)},style:{width:"30%"}}),l.a.createElement(I.a,{size:"small",type:"primary",onClick:function(){m.a.loading({content:"\u0425\u0430\u0434\u0433\u0430\u043b\u0436 \u0431\u0430\u0439\u043d\u0430...",key:"tag"}),v(g)}},"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445"))}var le=a(275),ie=a(120),ue=a(731),se=Z.a.CheckableTag,me=T.a.TextArea,pe=ie.a.Option;function de(e){var t=e.requestTags,a=Object(o.useContext)(_),n=a.user,r=(a.setUser,Object(z.a)(["token"])),c=Object(s.a)(r,3),i=c[0],u=(c[1],c[2],Object(x.useNavigation)()),p=Object(L.b)((function(e,t,a,r,c){return console.log("content",n.userType),{url:"/post",method:"post",headers:1===n.userType?{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i.token}:{},data:{title:e,img:r,author:n.userId,content:t,tags:c}}})),d=Object(s.a)(p,2),g=d[0],f=d[1],b=Object(o.useState)([]),E=Object(s.a)(b,2),h=E[0],v=E[1],j=Object(o.useState)(""),k=Object(s.a)(j,2),y=k[0],O=k[1],w=Object(o.useState)(""),S=Object(s.a)(w,2),A=S[0],D=S[1],P=Object(o.useState)({}),B=Object(s.a)(P,2),V=B[0],R=B[1];function $(e,t){var a=V;a[e.target.name]=t+"$content:"+e.target.value,R(a),console.log("data",V)}function H(e,t,a){var n,r=(n=e,Object.assign({},n)),c=r[t];return delete r[t],r[a]=c,r}return Object(o.useEffect)((function(){g&&g.data&&"success"===g.data.status&&m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430!",key:"post",duration:2}).then((function(e){return u.navigate("/")})),g.error&&m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!",key:"post",duration:2})}),[g]),l.a.createElement(C.a,{name:"dynamic_form_item",onFinish:function(){m.a.loading({content:"\u0425\u0430\u0434\u0433\u0430\u043b\u0436 \u0431\u0430\u0439\u043d\u0430...",key:"post"}),f(y,V,"mr.rob0t",A,h)}},l.a.createElement("p",null,"\u0411\u0438\u0447\u0438\u0433 \u0434\u044d\u044d\u0440 \u043a\u043e\u0434 \u0431\u0438\u0447\u0438\u0445 \u0431\u043e\u043b ","<code>let a;</code>"," \u0433\u044d\u0436 \u0431\u0438\u0447\u044d\u044d\u0440\u044d\u0439. \u041c\u04e9\u043d html tag \u0431\u0438\u0447\u0438\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0442\u043e\u0439."),l.a.createElement(C.a.Item,{label:"\u0413\u0430\u0440\u0447\u0438\u0433"},l.a.createElement(T.a,{value:y,onChange:function(e){return O(e.target.value)},placeholder:"\u0413\u0430\u0440\u0447\u0438\u0433\u0430\u0430 \u0431\u0438\u0447\u044d\u044d\u0440\u044d\u0439"})),l.a.createElement(K.a,null,l.a.createElement(Q.a,{span:24},l.a.createElement(C.a.Item,{label:"\u0417\u0443\u0440\u0430\u0433"},l.a.createElement(T.a,{value:A,onChange:function(e){return D(e.target.value)},placeholder:"\u0417\u0443\u0440\u0430\u0433\u043d\u044b\u0445\u0430\u0430 url-\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439"}),l.a.createElement("img",{style:{width:"100%"},src:A})))),l.a.createElement(C.a.List,{name:"names"},(function(e,t){var a=t.add,n=t.remove;return l.a.createElement("div",null,e.map((function(e,t){var a="text";return l.a.createElement(C.a.Item,{label:l.a.createElement(ie.a,{onChange:function(t){if("delete"===t){delete V["content".concat(e.name)];for(var r=V,c=0,o=Object.entries(V);c<o.length;c++){var l=Object(s.a)(o[c],2),i=l[0];l[1];if(i.substr(i.length-1)>e.name){var u=i.substr(i.length-1)-1;r=H(r,i,i.replace(/.$/,String(u))),R(r)}}n(e.name)}else a=t,V["content".concat(e.name)]&&$({target:{name:"content".concat(e.name),value:V["content".concat(e.name)].split("$content:")[1]}},a)},defaultValue:"text"},l.a.createElement(pe,{value:"text"},"\u0411\u0438\u0447\u0438\u0433"),l.a.createElement(pe,{value:"code"},"\u041a\u043e\u0434"),l.a.createElement(pe,{value:"img"},"\u0417\u0443\u0440\u0430\u0433"),l.a.createElement(pe,{value:"title"},"\u0413\u0430\u0440\u0447\u0438\u0433"),l.a.createElement(pe,{value:"delete"},"\u0423\u0441\u0442\u0433\u0430\u0445")),required:!1,key:e.key},l.a.createElement(me,{allowClear:!0,name:"content".concat(e.name),onChange:function(e){return $(e,a)},autoSize:!0}))})),l.a.createElement(C.a.Item,null,l.a.createElement(I.a,{type:"dashed",onClick:function(){a()},style:{width:"100%"}},l.a.createElement(ue.a,null)," \u041d\u044d\u043c\u044d\u0445")))})),l.a.createElement(C.a.Item,{label:"\u0425\u043e\u043b\u0431\u043e\u043e\u0441\u043e\u043e \u0441\u043e\u043d\u0433\u043e\u043e\u0440\u043e\u0439"},t.data.map((function(e){return l.a.createElement(se,{key:e.name,checked:h.indexOf(e.name)>-1,onChange:function(t){return function(e,t){var a=t?[].concat(Object(le.a)(h),[e]):h.filter((function(t){return t!==e}));v(a)}(e.name,t)}},e.name)}))),l.a.createElement(C.a.Item,null,l.a.createElement(I.a,{type:"primary",htmlType:"submit"},"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445")))}var ge=a(713),fe=a(714),be=a(732),Ee=a(733),he=a(707),ve=a(257),je=a(718),ke=a(706),ye=T.a.TextArea;function Oe(e){var t,a,n=e.postId,r=(Object(x.useNavigation)(),Object(o.useState)("")),c=Object(s.a)(r,2),i=c[0],u=c[1],p=Object(o.useContext)(_),d=p.user,g=(p.setUser,Object(z.a)(["token"])),f=Object(s.a)(g,3),b=f[0],E=(f[1],f[2],Object(L.b)((function(e){return{url:"/comment/".concat(e),method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b.token}}}))),h=Object(s.a)(E,2),v=h[0],j=h[1],k=Object(L.b)((function(){return{url:"/comment/".concat(n),method:"get"}})),y=Object(s.a)(k,2),O=y[0],w=y[1],T=Object(L.b)((function(e,t,a){return{url:"/comment",method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b.token},data:{content:e,postId:t,username:a}}})),S=Object(s.a)(T,2),A=S[0],D=S[1];return Object(o.useEffect)((function(){return w()}),[]),Object(o.useEffect)((function(){A.error&&m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430",key:"comment"}),A.data&&(m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430",key:"comment"}),window.location.href="/post/".concat(n))}),[A]),Object(o.useEffect)((function(){var e;"success"===(null===(e=v.data)||void 0===e?void 0:e.status)&&(window.location.href="/post/".concat(n))}),[v]),l.a.createElement("div",null,(null===(t=O.data)||void 0===t?void 0:t.length)<1?l.a.createElement(ne,null):l.a.createElement(je.b,{className:"comment-list",header:"".concat(null===(a=O.data)||void 0===a?void 0:a.length," \u0421\u044d\u0442\u0433\u044d\u0433\u0434\u043b\u04af\u04af\u0434"),itemLayout:"horizontal",dataSource:O.data,renderItem:function(e){return l.a.createElement("li",null,l.a.createElement(ke.a,{author:e.userData[0].username,avatar:l.a.createElement(Y.a,{src:e.userData[0].img}),content:e.content,actions:1===d.userType?[l.a.createElement("span",{onClick:function(){return t=e._id,void j(t);var t}},"\u0443\u0441\u0442\u0433\u0430\u0445")]:null}))}}),l.a.createElement(ke.a,{avatar:l.a.createElement(Y.a,{src:d.userImg,alt:"Han Solo"}),content:l.a.createElement("div",null,l.a.createElement(C.a.Item,null,l.a.createElement(ye,{rows:4,onChange:function(e){u(e.target.value)},value:i})),l.a.createElement(C.a.Item,null,l.a.createElement(I.a,{htmlType:"submit",onClick:function(){d.userId?(m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430",key:"comment"}),D(i,n,d.username)):m.a.error("\u041d\u044d\u0432\u0442\u044d\u0440\u0447 \u043e\u0440\u043e\u043e\u0434 \u0431\u0438\u0447\u043d\u044d \u04af\u04af")},type:"primary"},"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445")))}))}var xe=a(261),we=a.n(xe),Ce=ge.a.Title,Te=ge.a.Paragraph;ge.a.Text;function Ie(e){var t=e.post;console.log("fullpost",t.data);var a=Object(z.a)(["token"]),n=Object(s.a)(a,3),r=n[0],c=(n[1],n[2],Object(o.useState)(t.data.likes)),i=Object(s.a)(c,2),u=i[0],p=i[1],d=Object(L.b)((function(e){return{url:"/post/".concat(e),method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.token}}})),g=Object(s.a)(d,2),f=g[0],b=g[1],E=Object(L.b)((function(e){var a=t.data.views;return a++,{url:"/post/".concat(e),method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.token},data:[{name:"views",value:a}]}})),h=Object(s.a)(E,2),v=(h[0],h[1]);Object(o.useEffect)((function(){v(t.data._id)}),[]);var j=Object(L.b)((function(e){var t=u;return t++,{url:"/post/".concat(e),method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.token},data:[{name:"likes",value:t}]}})),k=Object(s.a)(j,2),y=k[0],O=k[1],w=Object(L.b)((function(e){return{url:"/post/".concat(e),method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.token},data:[{name:"approve",value:1}]}})),C=Object(s.a)(w,2),T=C[0],S=C[1];Object(o.useEffect)((function(){y.error&&m.a.error({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0433\u04af\u0439 \u0431\u043e\u043b\u043b\u043e\u043e."}),y.data&&m.a.success({content:"\u0422\u0430\u0430\u043b\u0430\u0433\u0434\u0430\u043b\u0430\u0430."})}),[y]),Object(o.useEffect)((function(){T.error&&m.a.error({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0433\u04af\u0439 \u0431\u043e\u043b\u043b\u043e\u043e.",key:"deletePost"}),T.data&&(m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0437\u04e9\u0432\u0448\u04e9\u04e9\u0440\u043b\u04e9\u04e9.",key:"deletePost"}),A.navigate("/waiting-post-list"))}),[T]),Object(o.useEffect)((function(){f.error&&m.a.error({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0433\u04af\u0439 \u0431\u043e\u043b\u043b\u043e\u043e.",key:"deletePost"}),f.data&&(m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0443\u0441\u0442\u0433\u0430\u043b\u0430\u0430.",key:"deletePost"}),A.navigate("/waiting-post-list"))}),[f]);var A=Object(x.useNavigation)(),D=Object(o.useContext)(_),B=D.user,V=(D.setUser,Object(o.useContext)(P)),R=V.contentLayout,$=(V.setContentLayout,Object.entries(t.data.content)),H=new ve.Parser,U={meta:{charset:"utf-8",property:{"og:title":t.data.title,"og:image":t.data.img,"og:description":$[0][1].split("$content:")[1]}}};return l.a.createElement(we.a,U,l.a.createElement("div",{style:R>0?{paddingRight:"10%",paddingLeft:"10%"}:{}},l.a.createElement(K.a,null,l.a.createElement(Q.a,{span:20},l.a.createElement(Ce,null,t.data.title)),l.a.createElement(Q.a,{style:{textAlign:"center"},span:4},3===B.userType?l.a.createElement(I.a,{danger:!0,type:"primary",onClick:function(){m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430",key:"deletePost"}),b(t.data._id)}},"\u0423\u0441\u0442\u0433\u0430\u0445"):null,3===B.userType&&0===t.data.approve?l.a.createElement(I.a,{type:"primary",onClick:function(){m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430",key:"deletePost"}),S(t.data._id)}},"\u0417\u04e9\u0432\u0448\u04e9\u04e9\u0440\u04e9\u0445"):null)),l.a.createElement(X.a,null,l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},src:t.data.img})),l.a.createElement("br",null),$.sort().map((function(e,t){return"text"===e[1].split("$content:")[0]?l.a.createElement(Te,{key:"content".concat(t),style:{fontSize:20,lineHeight:"1.7em"}},H.parse(e[1].split("$content:")[1])):"code"===e[1].split("$content:")[0]?l.a.createElement(fe.a,{key:"content".concat(t),language:"javascript",style:he.a},e[1].split("$content:")[1]):"img"===e[1].split("$content:")[0]?l.a.createElement(X.a,{key:"content".concat(t)},l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},src:e[1].split("$content:")[1]})):"title"===e[1].split("$content:")[0]?l.a.createElement(Ce,{key:"content".concat(t),level:2},e[1].split("$content:")[1]):void 0})),u," ",l.a.createElement(be.a,{onClick:function(){var e=u;p(++e),O(t.data._id)},style:{fontSize:"20px"}})," ",t.data.views," ",l.a.createElement(Ee.a,{style:{fontSize:"20px"}}),l.a.createElement(Oe,{postId:t.data._id})))}var Se=a(195);function Ae(e){var t=e.profile,a=Object(o.useState)(t.data),n=Object(s.a)(a,2),r=n[0],c=n[1],i=Object(z.a)(["token"]),u=Object(s.a)(i,3),p=u[0],d=(u[1],u[2],Object(L.b)((function(e){return{url:"/user/".concat(t.data._id),method:"patch",data:{update:e},headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+p.token}}}))),g=Object(s.a)(d,2),f=g[0],b=g[1];function E(e){var t=Object(Se.a)({},r);t[e.target.name]=e.target.value,console.log("userData",t),c(t)}return Object(o.useEffect)((function(){f.error&&m.a.error({content:"\u0410\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430",key:"userkey"}),f.data&&m.a.success({content:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u043b\u043b\u0430\u0430",key:"userkey"})}),[f]),console.log("profile",t),l.a.createElement(K.a,{gutter:[24,24],align:"middle",justify:"center"},l.a.createElement(Q.a,{span:3},l.a.createElement(Y.a,{src:r.img,size:100})),l.a.createElement(Q.a,{span:21},l.a.createElement(T.a,{value:r.img,onChange:E,name:"img",placeholder:"\u0417\u0443\u0440\u0430\u0433\u043d\u044b url-\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439"})),l.a.createElement(Q.a,{span:3}," \u041d\u044d\u0440 :"),l.a.createElement(Q.a,{span:9},l.a.createElement(T.a,{onChange:E,name:"username",value:r.username,placeholder:"\u041d\u044d\u0440\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439"})),l.a.createElement(Q.a,{span:3}," \u0418\u043c\u0435\u0439\u043b :"),l.a.createElement(Q.a,{span:9},l.a.createElement(T.a,{onChange:E,name:"email",value:r.email,placeholder:"\u0418\u043c\u0435\u0439\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u0430\u0440\u0430\u0439"})),l.a.createElement(Q.a,{span:24}," \u0422\u0430\u043d\u0438\u043b\u0446\u0443\u0443\u043b\u0433\u0430 :"),l.a.createElement(Q.a,{span:24},l.a.createElement(T.a.TextArea,{onChange:E,name:"description",value:r.description,placeholder:"\u042f\u043c\u0430\u0440 \u043d\u044d\u0433\u044d\u043d \u04e9\u04e9\u0440\u0438\u0439\u0433\u04e9\u04e9 \u0442\u043e\u0434\u043e\u0440\u0445\u043e\u0439\u043b\u043e\u0445 \u0437\u04af\u0439\u043b \u0431\u0438\u0447\u044d\u044d\u0440\u044d\u0439"})),l.a.createElement(I.a,{onClick:function(){m.a.loading({content:"\u0423\u043d\u0448\u0438\u0436 \u0431\u0430\u0439\u043d\u0430",key:"userkey"});var e=Object(Se.a)({},r);delete e.__v,delete e._id,b(e)}},"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445"))}function ze(e){var t=e.creators;return console.log("creators",t),l.a.createElement(je.b,{itemLayout:"vertical",size:"large",dataSource:t.data,footer:l.a.createElement("div",null,l.a.createElement("b",null,"Mr. Rob0t")," \u0410\u0434\u043c\u0438\u043d\u0443\u0443\u0434"),renderItem:function(e){return l.a.createElement(je.b.Item,{key:e.title,extra:l.a.createElement("div",{style:{height:200,display:"flex",justifyContent:"center"}},l.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",display:"block",margin:"auto"},alt:"logo",src:e.img}))},l.a.createElement(je.b.Item.Meta,{title:e.username}),e.description)}})}function Le(e){var t=e.posts,a=Object(x.useCurrentRoute)(),n=t?t.data:a.data.data;return console.log("posts data",n),l.a.createElement(K.a,{gutter:[24,24]},n.length>0?n.map((function(e,t){var a,n;return l.a.createElement(Q.a,{key:t,md:{span:8}},l.a.createElement(te,{id:e._id,imgUrl:e.img,title:e.title,author:e.author,tags:e.tags,content:(null===(a=e.content)||void 0===a||null===(n=a.content0.split("$content:")[1])||void 0===n?void 0:n.substring(0,30).trim())+"...",key:t}))})):l.a.createElement(Q.a,{style:{margin:"auto"},md:{span:24}},l.a.createElement(ne,null)))}var De=a(709),Pe=ge.a.Title;ge.a.Paragraph,ge.a.Text,ge.a.Link;function _e(e){var t=e.posts,a=[{title:"\u041d\u0438\u0439\u0442\u043b\u044d\u043b\u0438\u0439\u043d \u0433\u0430\u0440\u0447\u0438\u0433",dataIndex:"title",key:"title",render:function(e){return l.a.createElement("a",null,e)}},{title:"\u0422\u0430\u0430\u043b\u0430\u0433\u0434\u0441\u0430\u043d \u0431\u0430\u0439\u0434\u0430\u043b",dataIndex:"likes",key:"likes"},{title:"\u0425\u0430\u0440\u0441\u0430\u043d \u0445\u04af\u043c\u04af\u04af\u0441\u0438\u0439\u043d \u0442\u043e\u043e",dataIndex:"views",key:"views"},{title:"\u0417\u04e9\u0432\u0448\u04e9\u04e9\u0440\u04e9\u0433\u0434\u0441\u04e9\u043d \u044d\u0441\u044d\u0445",key:"approve",dataIndex:"approve",render:function(e){return 1===+e?l.a.createElement(Z.a,{color:"success"},"\u043d\u0438\u0439\u0442\u043b\u044d\u0433\u0434\u0441\u044d\u043d"):l.a.createElement(Z.a,{color:"processing"},"\u0425\u04af\u043b\u044d\u044d\u0433\u0434\u044d\u0436 \u0431\u0430\u0439\u0433\u0430\u0430")}}],n=t.data.reduce((function(e,t){return e+=+t.likes,e+=.3*+t.views}),0);return console.log("point",n),console.log("sama data",t),l.a.createElement(K.a,{justify:"center",gutter:[24,24]},l.a.createElement(Q.a,{span:12},l.a.createElement(De.a,{columns:a,dataSource:t.data})),l.a.createElement(Q.a,{span:12},l.a.createElement(Pe,null,"Reputation point : ",n)))}ge.a.Title;function Be(e){var t=e.posts,a=Object(x.useCurrentRoute)(),n=t?t.data:a.data.data;console.log("posts full data",n);for(var r=[{title:"\u041d\u0438\u0439\u0442\u043b\u044d\u0433\u0447",dataIndex:"author",key:"author",render:function(e){return l.a.createElement(x.Link,{href:"/profile/".concat(e)},e)}},{title:"Reputation point",dataIndex:"point",key:"point"},{title:"\u042d\u043d\u044d \u0441\u0430\u0440\u0438\u0439\u043d Reputation point",dataIndex:"currentMonthPoint",key:"currentMonthPoint"},{title:"\u042d\u043d\u044d \u0441\u0430\u0440\u0438\u0439\u043d \u0446\u0430\u043b\u0438\u043d",dataIndex:"salary",key:"salary",render:function(e){return e+"\u20ae"}}],c=n.reduce((function(e,t){return e[t.author]||(e[t.author]=[]),e[t.author].push(t),e}),{}),o=[],i=0,u=Object.entries(c);i<u.length;i++){var m=Object(s.a)(u[i],2),p=m[0],d=m[1],g=d.reduce((function(e,t){return e+=+t.likes,e+=.3*+t.views}),0),f=d.reduce((function(e,t){var a=t._id.toString().substring(0,8);new Date(1e3*parseInt(a,16)).getMonth()===(new Date).getMonth()&&(e+=+t.likes,e+=.3*+t.views);return e}),0);o.push({author:p,point:g,salary:1200*f,currentMonthPoint:f})}return console.log("group",c),l.a.createElement(K.a,{justify:"center",gutter:[24,24]},l.a.createElement(Q.a,{span:24},l.a.createElement(De.a,{columns:r,dataSource:o})))}var Ve=a(49),Re=a.n(Ve);function $e(){var e=Object(z.a)(["token"]),t=Object(s.a)(e,3),a=t[0],n=(t[1],t[2],Object(G.f)({"/posts/:id":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.a.get("https://tergelblogback.herokuapp.com/post/author/".concat(e.params.id));case 2:return a=t.sent,t.abrupt("return",l.a.createElement(_e,{posts:a}));case 4:case"end":return t.stop()}}),t)})))()}}),"/":Object(G.g)({getData:function(){return Re.a.get("https://tergelblogback.herokuapp.com/post")},view:l.a.createElement(re,null)}),"/all-author-post-list":Object(G.g)({getData:function(){return Re.a.get("https://tergelblogback.herokuapp.com/post/real-all-posts")},view:l.a.createElement(Be,null)}),"/waiting-post-list":Object(G.g)({getData:function(){return Re.a.get("https://tergelblogback.herokuapp.com/post/waiting")},view:l.a.createElement(Le,null)}),"/all-content-creators":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://tergelblogback.herokuapp.com/user/all/desc");case 2:return t=e.sent,e.abrupt("return",l.a.createElement(ze,{creators:t}));case 4:case"end":return e.stop()}}),e)})))()}}),"/profile/:id":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.a.get("https://tergelblogback.herokuapp.com/user/".concat(e.params.id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+(null===a||void 0===a?void 0:a.token)}});case 2:return n=t.sent,t.abrupt("return",l.a.createElement(Ae,{profile:n}));case 4:case"end":return t.stop()}}),t)})))()}}),"/post-tag/:name":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.a.get("https://tergelblogback.herokuapp.com/post/tag-of/".concat(e.params.name));case 2:return a=t.sent,t.abrupt("return",l.a.createElement(re,{posts:a}));case 4:case"end":return t.stop()}}),t)})))()}}),"/post/:id":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Re.a.get("https://tergelblogback.herokuapp.com/post/".concat(e.params.id));case 2:return a=t.sent,t.abrupt("return",l.a.createElement(Ie,{post:a}));case 4:case"end":return t.stop()}}),t)})))()}}),"/create-post":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://tergelblogback.herokuapp.com/tag");case 2:return t=e.sent,e.abrupt("return",l.a.createElement(de,{requestTags:t}));case 4:case"end":return e.stop()}}),e)})))()}}),"/tags":Object(G.g)({getView:function(e){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://tergelblogback.herokuapp.com/tag");case 2:return t=e.sent,e.abrupt("return",l.a.createElement(oe,{tags:t}));case 4:case"end":return e.stop()}}),e)})))()}})}));return l.a.createElement(x.Router,{routes:n},l.a.createElement(N,null,l.a.createElement(x.View,null)))}var He=a(708);var Ue=function(){var e=Object(o.useState)({}),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(z.a)(["token"]),c=Object(s.a)(r,3),i=c[0],u=(c[1],c[2],Object(o.useState)(!1)),p=Object(s.a)(u,2),d=p[0],g=p[1],f=Object(L.b)((function(){return i.token||(m.a.error("\u0422\u0430 \u043d\u044d\u0432\u0442\u044d\u0440\u0447 \u043e\u0440\u043d\u0443\u0443"),window.location.href="/"),{url:"/user",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i.token}}})),b=Object(s.a)(f,2),E=b[0],h=b[1];Object(o.useEffect)((function(){!a.userData&&i.token&&h()}),[]),Object(o.useEffect)((function(){console.log("data",E),E.data&&n(E.data.userData)}),[E]);var v={light:"".concat("/challangeBlogFront","/light-theme.css"),dark:"".concat("/challangeBlogFront","/dark-theme.css")};return l.a.createElement(He.a,null,l.a.createElement(J.ThemeSwitcherProvider,{defaultTheme:d?"dark":"light",themeMap:v},l.a.createElement(D.Provider,{value:{isDark:d,setIsDark:g}},l.a.createElement(_.Provider,{value:{user:a,setUser:n}},l.a.createElement(o.Suspense,{fallback:null},l.a.createElement($e,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=a(272),We=Re.a.create({baseURL:"https://tergelblogback.herokuapp.com"});Object(Me.a)({exports:{App:Ue},main:function(){return Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0,(0,u.a.hydrate)(l.a.createElement(L.a,{value:We},l.a.createElement(Ue,null)),document.getElementById("root"));case 3:case"end":return e.stop()}}),e)})))()}}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[280,1,2]]]);
//# sourceMappingURL=main.35c57670.chunk.js.map